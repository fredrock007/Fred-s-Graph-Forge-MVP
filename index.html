<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fred's GraphForge MVP</title>
  <style>
    /* ======= THEME ======= */
    :root {
      --bg:#0a0f16;           /* deep space */
      --bg2:#0d1220;          /* panel back */
      --ink:#eaf1ff;          /* text */
      --muted:#96a4bd;        /* secondary text */
      --stroke:#1f2a3d;       /* hairline */
      --accent:#48e0ff;       /* cyan */
      --accent2:#9b5cff;      /* violet */
      --accent3:#4df29a;      /* mint */
    }
    * { box-sizing: border-box }
    html,body{height:100%}
    body{
      margin:0; color:var(--ink); font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: radial-gradient(80vw 80vh at 10% -10%, rgba(72,224,255,.12), transparent 60%),
                  radial-gradient(60vw 60vh at 110% 10%, rgba(155,92,255,.12), transparent 60%),
                  linear-gradient(180deg, #070b11, #0a0f16 35%, #0b1120 100%);
    }/* animated tech grid */
body::before{
  content:""; position: fixed; inset:0; pointer-events:none;
  background-image: linear-gradient(var(--stroke) 1px, transparent 1px),
                    linear-gradient(90deg, var(--stroke) 1px, transparent 1px);
  background-size: 36px 36px, 36px 36px; opacity:.25; mask-image: linear-gradient(180deg, transparent 0%, #000 10%, #000 90%, transparent 100%);
  animation: pan 14s linear infinite;
}
@keyframes pan { from{ background-position:0 0, 0 0 } to{ background-position:0 36px, 36px 0 } }

/* ======= LAYOUT ======= */
.wrap{display:grid; grid-template-columns: 380px 1fr; gap:18px; padding:18px; height:100vh}
@media(max-width:980px){ .wrap{grid-template-columns:1fr; height:auto} }

.card{background:linear-gradient(180deg, rgba(13,18,32,.9), rgba(7,10,17,.9)); border:1px solid var(--stroke); border-radius:18px; box-shadow:0 20px 60px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.02)}

.left{padding:18px; display:flex; flex-direction:column; gap:14px}
.plot{position:relative; padding:10px}

/* ======= BRAND HEADER (with animated glow) ======= */
.brand{position:relative; display:flex; align-items:center; gap:12px; padding:10px; border-radius:16px;}
/* animated border glow ring */
.brand::before{content:""; position:absolute; inset:0; border-radius:16px; padding:1px; background: linear-gradient(120deg, rgba(72,224,255,.75), rgba(155,92,255,.6) 40%, rgba(77,242,154,.7) 80%, rgba(72,224,255,.75)); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; animation: glowShift 8s linear infinite;}
@keyframes glowShift { 0%{ filter:hue-rotate(0deg) blur(6px); opacity:.6 } 50%{ filter:hue-rotate(180deg) blur(8px); opacity:.9 } 100%{ filter:hue-rotate(360deg) blur(6px); opacity:.6 } }

.logo{width:42px; height:42px; border-radius:50%; background: conic-gradient(from 220deg, var(--accent), var(--accent2) 40%, var(--accent3) 75%, var(--accent)); box-shadow: 0 0 30px rgba(72,224,255,.35); position:relative; display:flex; align-items:center; justify-content:center; font-weight:900; color:var(--ink); font-size:18px; overflow:hidden}
.logo::after{content:""; position:absolute; inset:3px; border-radius:50%; background:#0e1525}
.logo span{position:relative; z-index:1; animation:pulse 2.5s ease-in-out infinite}
@keyframes pulse{0%,100%{transform:scale(1); opacity:1} 50%{transform:scale(1.25); opacity:.65}}

.orbit-dot{position:absolute; width:6px; height:6px; border-radius:50%; background:var(--accent); top:50%; left:50%; margin:-3px 0 0 -3px; animation:orbit 4s linear infinite}
@keyframes orbit{from{transform:rotate(0deg) translateX(20px) rotate(0deg)} to{transform:rotate(360deg) translateX(20px) rotate(-360deg)}}

.title{font-weight:800; letter-spacing:.3px; font-size:16px}
.subtitle{font-size:12px; color:var(--muted)}

h2{font-size:14px; font-weight:700; color:#cfe2ff; margin:8px 0 2px}
label{font-size:12px; color:var(--muted)}
input[type="text"], input[type="number"], select {
  width:100%; padding:12px 12px; border-radius:12px; border:1px solid #2a344a; background:#0b1220; color:var(--ink); outline:none;
}
input[type="number"]{appearance:textfield}
.grid-2{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
.badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:#0c1324; border:1px solid #263146; color:var(--muted); font-size:12px}

.btn{cursor:pointer; background:linear-gradient(135deg, var(--accent), var(--accent3)); color:#031018; font-weight:800; border:none; padding:12px 14px; border-radius:12px; letter-spacing:.2px; box-shadow: 0 8px 24px rgba(72,224,255,.25); transition:transform .06s ease, box-shadow .2s}
.btn:active{transform:translateY(1px)}

.hint{font-size:12px; color:#9bb0cc}

.features{max-height:40vh; overflow:auto; padding:10px 12px; border-radius:12px; background:#0b1326; border:1px solid #243148}
.features h3{margin:6px 0 8px; font-size:14px; color:#d6e4ff}
.features li{margin:6px 0}

.footer{font-size:11px; color:var(--muted); margin-top:auto}

/* Watermark overlay on the plot (with animated shimmer) */
.watermark{position:absolute; right:14px; bottom:10px; pointer-events:none; font-weight:900; font-size:12px; letter-spacing:.6px;
  background: linear-gradient(90deg, rgba(150,210,255,.15), rgba(150,210,255,.55), rgba(150,210,255,.15));
  background-size: 200% 100%;
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 0 18px rgba(72,224,255,.08);
  animation: shimmer 4s linear infinite;
}
@keyframes shimmer { 0%{ background-position: 200% 0 } 100%{ background-position: -200% 0 } }

  </style>
</head>
<body>
  <div class="wrap">
    <section class="card left">
      <div class="brand">
        <div class="logo"><span>F</span><div class="orbit-dot"></div></div>
        <div>
          <div class="title">Fred's GraphForge MVP</div>
          <div class="subtitle">Offline Graphing â€¢ Feature Detection</div>
        </div>
      </div><div>
    <h2>Equation</h2>
    <label for="expr">Enter f(x) (examples: x^2 - 4x - 6, sin(x), (x+2)/(x-3), e^(0.5x))</label>
    <input id="expr" type="text" placeholder="x^2 - 4x - 6" value="x^2 - 4x - 6" />
    <div class="hint">Supported: + - * / ^ ( )  sin cos tan asin acos atan exp log ln sqrt abs pi e</div>
  </div>

  <div class="grid-2">
    <div>
      <h2>Domain</h2>
      <label for="xmin">x min</label>
      <input id="xmin" type="number" step="0.5" value="-10" />
    </div>
    <div style="padding-top:24px">
      <label for="xmax">x max</label>
      <input id="xmax" type="number" step="0.5" value="10" />
    </div>
  </div>

  <div class="grid-2">
    <div>
      <h2>Sampling</h2>
      <label for="points">Sample points</label>
      <input id="points" type="number" step="50" value="800" />
    </div>
    <div style="padding-top:24px">
      <label for="angleMode">Angle mode (for trig)</label>
      <select id="angleMode">
        <option value="rad">Radians</option>
        <option value="deg">Degrees</option>
      </select>
    </div>
  </div>

  <div class="grid-2">
    <label class="badge"><input id="showRoots" type="checkbox" checked/> Roots</label>
    <label class="badge"><input id="showTurning" type="checkbox" checked/> Turning points</label>
  </div>
  <div class="grid-2">
    <label class="badge"><input id="showAsym" type="checkbox" checked/> Asymptotes</label>
    <label class="badge"><input id="autoY" type="checkbox" checked/> Auto y-range</label>
  </div>

  <button id="plotBtn" class="btn">Plot & Analyse</button>

  <div class="features" id="featuresBox" aria-live="polite"></div>

  <div class="footer">Built for offline classrooms. Save libraries locally to run with no data.</div>
</section>

<section class="card plot">
  <div id="plot" style="height: calc(100vh - 52px);"></div>
  <div class="watermark">Fred's GraphForge MVP</div>
</section>

  </div>  <script src="https://cdn.jsdelivr.net/npm/mathjs@11.11.2/lib/browser/math.min.js"></script>  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>  <script>
    // JS analysis + plotting code stays same as previous version (not repeated here for brevity)
  </script></body>
</html>
